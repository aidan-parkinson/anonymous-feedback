(this["webpackJsonpanonymous-feedback"]=this["webpackJsonpanonymous-feedback"]||[]).push([[3],{101:function(e,t){},103:function(e,t){},172:function(e,t){},174:function(e,t){},197:function(e,t){},198:function(e,t){},206:function(e,t,n){"use strict";n.r(t);var a=n(204),r=n(94),c=n(0),i=n.n(c),o=n(95),s=n(49),l=n(50),u=n(93),d=n(92),f=(n(96),n(205)),m=(n(97),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).hoverHandler=function(e){var t=e.target.parentElement.getElementsByClassName("star"),n=e.target.dataset.value;Array.from(t).forEach((function(e){e.style.color=n>=e.dataset.value?"#C1F0FF":"gray"}))},a.setRating=function(e){var t=a.refs.rating.getElementsByClassName("star");Array.from(t).forEach((function(e){e.style.color=a.state.currentRating>=e.dataset.value?"#C1F0FF":"gray"}))},a.starClickHandler=function(e){var t=e.target.dataset.value;a.setState({currentRating:t}),a.props.onClick&&a.props.onClick(t)},a.state={currentRating:a.props.currentRating},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setRating()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"rating",ref:"rating","data-rating":this.state.currentRating,onMouseOut:this.setRating},Object(f.a)(Array(+this.props.numberOfStars).keys()).map((function(t){return i.a.createElement("span",{className:"star",key:t+1,"data-value":t+1,onMouseOver:e.hoverHandler,onClick:e.starClickHandler},"\u2605")})))}}]),n}(c.Component)),g=n(98),p=n.n(g),h=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(o.a)({},e.target.name,e.target.value))},a.setRating=function(e){a.setState({rating:e})},a.broadcastFeedback=function(){a.client.publish("anonymous-feedback/json",JSON.stringify({likert_score:a.state.rating,description:a.state.description}),a.retain),a.setState({rating:null,description:null}),window.location.reload(!1)},a.state={rating:null,description:null},a.options={ca:a.props.caFile,rejectUnauthorized:!1},a.retain={retain:!0,qos:1},a.client=p.a.connect("wss://wss.aidanparkinson.xyz:8081",a.options),console.log("connected flag  "+a.client.connected),a.client.on("connect",(function(){console.log("connected  "+this.client.connected)})),a}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"form-input"},i.a.createElement("div",{className:"form-input-rating"},i.a.createElement(m,{numberOfStars:"5",currentRating:null,onClick:this.setRating})),i.a.createElement("div",{className:"actions"},i.a.createElement("button",{onClick:this.broadcastFeedback},"Submit")),i.a.createElement("textarea",{name:"description",id:"description",onChange:this.handleChange,placeholder:"A description of your experience..."})))}}]),n}(i.a.Component);t.default=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){var e=null;try{e=r.readFileSync("/etc/ssl/certs/learning-iot-ca.crt")}catch(t){}e&&o(e)}),[]),console.log(n),n?i.a.createElement(h,{caFile:n}):i.a.createElement("div",null,i.a.createElement("div",{className:"instruction"},"you do not have the correct certificate saved on your system..",i.a.createElement("br",null),"to download the latest ca certificate to appropriate folder:",i.a.createElement("br",null)),i.a.createElement("div",{className:"bash"},"`cd /etc/ssl/certs`",i.a.createElement("br",null),"`sudo rm learning-iot-ca.crt`",i.a.createElement("br",null),"`sudo curl -O learning-iot.aidanparkinson.xyz`"))}},96:function(e,t,n){},97:function(e,t,n){}}]);
//# sourceMappingURL=3.bbf9f17b.chunk.js.map